(self.webpackChunksite=self.webpackChunksite||[]).push([[5378],{65378:function(n,r,e){"use strict";e.r(r),r.default="# ImagePreview 图片预览\r\n\r\n## 基本用法\r\n\r\n```jsx\r\nimport { useState, useEffect } from 'react';\r\nimport { Cell, Button, ImagePreview, NoticeBar } from 'zson-mobile';\r\n\r\nconst commonImages = [\r\n  'https://cdn-health.zhongan.com/zarm/imagePreview/1-small.jpg',\r\n  'https://cdn-health.zhongan.com/zarm/imagePreview/2-small.jpg',\r\n  'https://cdn-health.zhongan.com/zarm/imagePreview/3-small.jpg',\r\n];\r\n\r\nconst Demo = () => {\r\n  const [originImages, setOriginImages] = useState(null);\r\n  const [visibleState, setVisibleState] = useState({\r\n    origin: false,\r\n    common: false,\r\n    picture: false,\r\n  });\r\n\r\n  const open = (key) => {\r\n    setVisibleState({\r\n      ...visibleState,\r\n      [key]: true,\r\n    });\r\n  };\r\n\r\n  const hide = (key) => {\r\n    setVisibleState({\r\n      ...visibleState,\r\n      [key]: false,\r\n    });\r\n  };\r\n\r\n  // 模拟异步数据\r\n  const fetchData = () => {\r\n    setTimeout(() => {\r\n      setOriginImages([\r\n        {\r\n          url: 'https://cdn-health.zhongan.com/zarm/imagePreview/1-small.jpg',\r\n          originUrl: 'https://cdn-health.zhongan.com/zarm/imagePreview/1.jpg',\r\n        },\r\n        {\r\n          url: 'https://cdn-health.zhongan.com/zarm/imagePreview/2-small.jpg',\r\n          originUrl: 'https://cdn-health.zhongan.com/zarm/imagePreview/2.jpg',\r\n        },\r\n        {\r\n          url: 'https://cdn-health.zhongan.com/zarm/imagePreview/3-small.jpg',\r\n          originUrl: 'https://cdn-health.zhongan.com/zarm/imagePreview/3.jpg',\r\n        },\r\n      ]);\r\n    }, 5000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <NoticeBar>图片缩放只支持Touch事件，建议使用移动模式/设备浏览以获得最佳体验。</NoticeBar>\r\n      <Cell\r\n        description={\r\n          <Button size=\"xs\" onClick={() => open('common')}>\r\n            开启\r\n          </Button>\r\n        }\r\n      >\r\n        普通\r\n      </Cell>\r\n      <Cell\r\n        description={\r\n          <Button size=\"xs\" onClick={() => open('origin')}>\r\n            开启\r\n          </Button>\r\n        }\r\n      >\r\n        有查看原始图片功能\r\n      </Cell>\r\n      <ImagePreview\r\n        visible={visibleState.common}\r\n        images={commonImages}\r\n        onClose={() => hide('common')}\r\n        maxScale={10}\r\n      />\r\n      <ImagePreview\r\n        visible={visibleState.origin}\r\n        images={originImages}\r\n        onClose={() => hide('origin')}\r\n        maxScale={5}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nReactDOM.render(<Demo />, mountNode);\r\n```\r\n\r\n## 预览指定图片\r\n\r\n```jsx\r\nimport { useState } from 'react';\r\nimport { ImagePreview, Cell } from 'zson-mobile';\r\n\r\nconst commonImages = [\r\n  'https://cdn-health.zhongan.com/zarm/imagePreview/1-small.jpg',\r\n  'https://cdn-health.zhongan.com/zarm/imagePreview/2-small.jpg',\r\n  'https://cdn-health.zhongan.com/zarm/imagePreview/3-small.jpg',\r\n];\r\n\r\nconst Demo = () => {\r\n  const [visible, setVisible] = useState(false);\r\n  const [pictureIndex, setPictureIndex] = useState(0);\r\n\r\n  const hide = () => setVisible(false);\r\n\r\n  const show = (index) => {\r\n    setVisible(true);\r\n    setPictureIndex(index);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Cell>\r\n        {commonImages.map((pic, index) => (\r\n          <div className=\"picture-item\" onClick={() => show(index)} key={+index}>\r\n            <img src={pic} alt=\"\" />\r\n          </div>\r\n        ))}\r\n      </Cell>\r\n      <ImagePreview\r\n        visible={visible}\r\n        images={commonImages}\r\n        onClose={hide}\r\n        activeIndex={pictureIndex}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nReactDOM.render(<Demo />, mountNode);\r\n```\r\n\r\n## API\r\n\r\n| 属性           | 类型                                               | 默认值 | 说明                              |\r\n| :------------- | :------------------------------------------------- | :----- | :-------------------------------- |\r\n| visible        | boolean                                            | false  | 是否显示                          |\r\n| minScale       | number                                             | 1      | 图片最小缩放比例，1 为最小值      |\r\n| maxScale       | number                                             | 3      | 图片最大缩放比例                  |\r\n| images         | Array<string \\| {url: string; originUrl: string;}> | -      | 图片地址                          |\r\n| activeIndex    | number                                             | 0      | 当前展示的图片是第几张，从 0 开始 |\r\n| showPagination | boolean                                            | true   | 是否显示分页器                    |\r\n| onChange       | (activeIndex?: number) => void                     | -      | 图片切换时候回调                  |\r\n| onClose        | () => void                                         | -      | 关闭时候回调                      |\r\n"}}]);