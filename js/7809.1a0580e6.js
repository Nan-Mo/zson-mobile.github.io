(self.webpackChunksite=self.webpackChunksite||[]).push([[7809],{17809:function(e,n,r){"use strict";r.r(n),n.default='# FilePicker 文件选择器\r\n\r\n## 基本用法\r\n\r\n```jsx\r\nimport { useState } from \'react\';\r\nimport { Cell, FilePicker, Icon } from \'zson-mobile\';\r\n\r\nconst Demo = () => {\r\n  const [files, setFiles] = useState([]);\r\n\r\n  const onSelect = (file) => {\r\n    console.log(file);\r\n    const newFiles = files.concat(file);\r\n    setFiles(newFiles);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {files.map((item, index) => (\r\n        <Cell key={+index}>{item.fileName}</Cell>\r\n      ))}\r\n      <div className="file-picker-wrapper">\r\n        <FilePicker className="file-picker-btn" onChange={onSelect}>\r\n          <Icon type="add" size="lg" />\r\n        </FilePicker>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nReactDOM.render(<Demo />, mountNode);\r\n```\r\n\r\n## 多选模式\r\n\r\n```jsx\r\nimport { useState } from \'react\';\r\nimport { FilePicker, Icon, Toast, Badge } from \'zson-mobile\';\r\n\r\nconst MAX_FILES_COUNT = 5;\r\n\r\nconst onBeforeSelect = () => {\r\n  alert(\'执行 onBeforeSelect 方法\');\r\n};\r\n\r\nconst Demo = () => {\r\n  const [files, setFiles] = useState([]);\r\n\r\n  const onSelect = (selFiles) => {\r\n    const newFiles = files.concat(selFiles);\r\n    if (newFiles.length > MAX_FILES_COUNT) {\r\n      Toast.show(\'最多只能选择5张图片\');\r\n      return;\r\n    }\r\n    setFiles(newFiles);\r\n  };\r\n\r\n  const remove = (index) => {\r\n    const newFiles = [].concat(files);\r\n    newFiles.splice(index, 1);\r\n    setFiles(newFiles);\r\n    Toast.show(\'删除成功\');\r\n  };\r\n\r\n  const imgRender = () => {\r\n    return files.map((item, index) => {\r\n      return (\r\n        <Badge\r\n          key={+index}\r\n          className="file-picker-item"\r\n          shape="circle"\r\n          text={\r\n            <span className="file-picker-closebtn">\r\n              <Icon type="wrong" />\r\n            </span>\r\n          }\r\n          onClick={() => remove(index)}\r\n        >\r\n          <div className="file-picker-item-img">\r\n            <a href={item.thumbnail} target="_blank" rel="noopener noreferrer">\r\n              <img src={item.thumbnail} alt="" />\r\n            </a>\r\n          </div>\r\n        </Badge>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className="file-picker-wrapper">\r\n      {imgRender()}\r\n      {files.length < MAX_FILES_COUNT && (\r\n        <FilePicker\r\n          multiple\r\n          className="file-picker-btn"\r\n          accept="image/*"\r\n          onBeforeSelect={onBeforeSelect}\r\n          onChange={onSelect}\r\n        >\r\n          <Icon type="add" size="lg" />\r\n        </FilePicker>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nReactDOM.render(<Demo />, mountNode);\r\n```\r\n\r\n## 禁用状态\r\n\r\n```jsx\r\nimport { FilePicker, Icon } from \'zson-mobile\';\r\n\r\nReactDOM.render(\r\n  <div className="file-picker-wrapper">\r\n    <FilePicker className="file-picker-btn" disabled>\r\n      <Icon type="add" size="lg" />\r\n    </FilePicker>\r\n  </div>,\r\n  mountNode,\r\n);\r\n```\r\n\r\n## API\r\n\r\n| 属性           | 类型                                | 默认值     | 说明                                                                        |\r\n| :------------- | :---------------------------------- | :--------- | :-------------------------------------------------------------------------- |\r\n| accept         | string                              | -          | 允许上传的附件格式                                                          |\r\n| capture        | string                              | -          | 唤起的原生应用，可选值：照相机`camera`, 摄像机`camcorder`, 录音`microphone` |\r\n| multiple       | boolean                             | false      | 是否多选                                                                    |\r\n| disabled       | boolean                             | false      | 是否禁用                                                                    |\r\n| onBeforeSelect | () => boolean                       | () => true | 选择前触发的事件                                                            |\r\n| onChange       | (file?: object \\| object[]) => void | -          | 值变化时触发的回调函数                                                      |\r\n'}}]);