webpackJsonp([3],{309:function(e,t,a){"use strict";function l(){alert("执行 onBeforeSelect 方法")}Object.defineProperty(t,"__esModule",{value:!0});var n=a(330),r=a.n(n),i=a(83),s=a.n(i),c=a(84),o=a.n(c),m=a(85),u=a.n(m),d=a(86),p=a.n(d),h=a(87),E=a.n(h),f=a(5),v=a.n(f),b=a(331),g=a(334),y=a(332),S=a(333),k=a(570),N=(a.n(k),5),B=function(e){function t(e){o()(this,t);var a=p()(this,(t.__proto__||s()(t)).call(this,e));return a.onSelectMulti=function(e){console.log(e);var t=a.state.multiFiles,l=a.state.toast;if(t=t.concat(e),t.length>N)return l.visible=!0,l.children="最多只能选择5张图片",void a.setState({toast:l});a.setState({multiFiles:t})},a.onSelect=function(e){console.log(e);var t=a.state.files;t.push(e),a.setState({files:t})},a.state={multiFiles:[],files:[],filesWithToast:[],allTypeFiles:{},toast:{visible:!1,onMaskClick:function(){var e=a.state.toast;e.visible=!1,a.setState({toast:e})}}},a}return E()(t,e),u()(t,[{key:"remove",value:function(e,t){var a,l=this.state[e],n=this.state.toast;l.splice(t,1),n.visible=!0,n.children="图片删除成功",this.setState({toast:n}),this.setState((a={},r()(a,e,l),r()(a,"toast",n),a))}},{key:"fileRender",value:function(e){var t=this;return this.state[e].map(function(a,l){return v.a.createElement(S.c,{sup:!0,className:"uploader-item",shape:"circle",text:v.a.createElement(S.h,{type:"wrong"}),key:+l,onClick:function(){return t.remove(e,+l)}},v.a.createElement("div",{className:"uploader-item-img"},v.a.createElement("a",{href:a.thumbnail,target:"_blank"},v.a.createElement("img",{src:a.thumbnail,alt:""}))))})}},{key:"render",value:function(){var e=this.state,t=e.toast,a=e.multiFiles;return v.a.createElement(b.a,{className:"uploader-page"},v.a.createElement(g.a,{title:"上传组件 Uploader"}),v.a.createElement("main",null,v.a.createElement(S.n,null,v.a.createElement(S.n.Header,{title:"点击一次选择单张"}),v.a.createElement(S.n.Body,null,v.a.createElement("div",{className:"uploader-wrapper"},this.fileRender("files"),v.a.createElement(S.B,{className:"uploader-btn",accept:"image/*",onChange:this.onSelect},v.a.createElement(S.h,{type:"add"}))))),v.a.createElement(S.n,null,v.a.createElement(S.n.Header,{title:"点击一次选择多张"}),v.a.createElement(S.n.Body,null,v.a.createElement("div",{className:"uploader-wrapper"},this.fileRender("multiFiles"),a.length<N&&v.a.createElement(S.B,{multiple:!0,className:"uploader-btn",accept:"image/*",onBeforeSelect:l,onChange:this.onSelectMulti},v.a.createElement(S.h,{type:"add"}))))),v.a.createElement(S.n,null,v.a.createElement(S.n.Header,{title:"禁用状态"}),v.a.createElement(S.n.Body,null,v.a.createElement("div",{className:"uploader-wrapper"},v.a.createElement(S.B,{className:"uploader-btn",disabled:!0},v.a.createElement(S.h,{type:"add"}))))),v.a.createElement(S.A,t)),v.a.createElement(y.a,null))}}]),t}(f.Component);t.default=B},570:function(e,t){}});